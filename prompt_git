function is_repo {
  git rev-parse --is-inside-work-tree > /dev/null 2>&1
}

function repo_icon {
  color black "Â±" white
}

function branch_name {
  color white $(git rev-parse --abbrev-ref HEAD 2> /dev/null) yellow
}

function check_status {
  git status 2>/dev/null | grep "$1" > /dev/null 2>&1
}

function untracked_files {
  if check_status "Untracked files:"; then
    color red "untracked" white
  fi
}

function new_files {
  if check_status "new file:"; then
    color green "new" white
  fi
}

function modified_files {
  if check_status "modified:"; then
    color blue "modified" white
  fi
}

function rvm_info {
  current=$(rvm current)
  if echo "$current" | grep "2" >/dev/null 2>&1; then
    color white "$current" red
  fi
}

function prompt_git {
  if is_repo; then
    # this is git repo :-)
    echo "$(repo_icon)$(branch_name)$(untracked_files)$(new_files)$(modified_files) $(rvm_info)"
  fi
}
